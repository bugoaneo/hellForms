@using Umbraco.Cms.Core.Models;
@using Umbraco.Cms.Core.Models.Blocks;
@using Umbraco.Cms.Core.PublishedCache;
@using Umbraco.Cms.Web.Common.PublishedModels;
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage
@{
        Layout = "_master.cshtml";
	var publicationBlocks = Model.Value<Umbraco.Cms.Core.Models.Blocks.BlockListModel>("publicationConstructor")!;
}



@{
	if (publicationBlocks != null)
	{
		var index = 0;
		ViewData["page"] = Model;
		foreach (var block in publicationBlocks)
		{
			ViewData["blockIndex"] = index++;
			ViewData["settings"] = block.Settings;
			@await Html.PartialAsync("blocks/" + block.Content.ContentType.Alias, block.Content)
		}
	}
}